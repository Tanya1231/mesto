(()=>{"use strict";class e{constructor(e,t){this.config=e,this._form=t,this._sumbitButton=this._form.querySelector(e.sumbitButton),this._inactiveButtonClass=e.inactiveButtonClass}_setCustomError(e){const t=e.validity;if(e.setCustomValidity(""),t.tooShort||t.tooLong){const t=e.value.length,s=e.getAttribute("minlength");e.setCustomValidity(`Минимальное колличество символов ${s}. Длина текста сейчас ${t} символ`)}}_setFieldError(e){document.querySelector(`#${e.id}-error`).textContent=e.validationMessage}_setButtonState(){this._form.checkValidity()?(this._sumbitButton.classList.remove(this._inactiveButtonClass),this._sumbitButton.removeAttribute("disabled")):this._disableButtonState()}_disableButtonState(){this._sumbitButton.classList.add(this._inactiveButtonClass),this._sumbitButton.setAttribute("disabled",!0)}_handleFormSumbit(e){e.preventDefault(),this._disableButtonState()}_handleFormInput(e){const t=e.target;this._setCustomError(t),this._setFieldError(t),this._setButtonState()}enableValidation=()=>{this._form.addEventListener("submit",(e=>this._handleFormSumbit(e))),this._form.addEventListener("input",(e=>this._handleFormInput(e))),this._setButtonState()}}class t{constructor({data:e,userId:t,handleCardClick:s,handleLikeClick:i,handleDisLikeClick:r,handleDeleteCard:n},o){this._name=e.name,this._link=e.link,this._likes=e.likes,this._cardOwnerId=e.owner._id,this._userId=t,this._cardId=e._id,this._handleCardClick=s,this._handleLikeClick=i,this._handleDisLikeClick=r,this._handleDeleteCard=n,this._cardSelector=o}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}removeCard=()=>{this._card.remove(),this._card=null};isLiked(){return this._likes.some((e=>this._userId===e._id))}_setIsLiked(){this.isLiked()&&this._likeButton.classList.add("element__vector_active")}handleLikeCard(e){this._likes=e.likes,this._likesCounter.textContent=this._likes.length,this.isLiked()?this._likeButton.classList.add("element__vector_active"):this._likeButton.classList.remove("element__vector_active")}_deleteCard(){this._userId!==this._cardOwnerId&&this._deleteButton.remove()}_setEventListners(){this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCard(this._cardId)})),this._likeButton.addEventListener("click",(()=>{this.isLiked()?this._handleDisLikeClick(this._cardId):this._handleLikeClick(this._cardId)})),this._image.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}generateCard(){return this._card=this._getTemplate(),this._likeButton=this._card.querySelector(".element__vector"),this._likesCounter=this._card.querySelector(".element__vector-counter"),this._deleteButton=this._card.querySelector(".element__delete"),this._image=this._card.querySelector(".element__image"),this._card.querySelector(".element__title").textContent=this._name,this._likesCounter.textContent=this._likes.length,this._image.src=this._link,this._image.alt=this._name,this._setIsLiked(),this._deleteCard(),this._setEventListners(),this._card}}class s{constructor(e){this._popup=document.querySelector(e),this.close=this.close.bind(this),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popup.querySelector(".popup__button-close").addEventListener("click",(()=>{this.close()})),this._popup.addEventListener("mousedown",(e=>{e.target===e.currentTarget&&this.close()}))}}class i extends s{constructor(e,{formSubmit:t}){super(e),this._formSubmit=t,this._form=this._popup.querySelector(".form"),this._submitButton=this._popup.querySelector(".form__button"),this._inputList=this._popup.querySelectorAll(".form__container"),this._textSubmit=this._submitButton.textContent}getInputValues(){const e={};return this._inputList.forEach((t=>e[t.name]=t.value)),e}close(){this._form.reset(),super.close()}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._formSubmit(this.getInputValues()),this.close()}))}loading(e){this._submitButton.textContent=e?"Сохранение...":this._textSubmit}}const r=document.querySelector(".form"),n=document.querySelector(".form_popup_add-card"),o=document.querySelector(".form__container_type_name"),a=document.querySelector(".form__container_type_info"),l=document.querySelector(".profile__edit-button"),d=document.querySelector(".profile__addbutton"),h=(document.querySelector(".profile__avatar"),document.querySelector(".form_popup_avatar")),c={form:".form",sumbitButton:".form__button",inactiveButtonClass:"form__button_invalid"},_=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}_handleResponse(e){return e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)}async getUserInfo(){const e=await fetch(`${this._baseUrl}/users/me`,{headers:this._headers});return this._handleResponse(e)}async editUserInfo(e){const t=await fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})});return this._handleResponse(t)}async getInitialCards(){const e=await fetch(`${this._baseUrl}/cards`,{headers:this._headers});return this._handleResponse(e)}async setUserAvatar(e){const t=await fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})});return this._handleResponse(t)}async addCard(e){const t=await fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})});return this._handleResponse(t)}async putLike(e){const t=await fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers});return this._handleResponse(t)}async deleteCard(e){const t=await fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers});this._handleResponse(t)}async removeLike(e){const t=await fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers});return this._handleResponse(t)}}({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-47",headers:{authorization:"0162be33-26fc-4582-97e8-0d78f4ad20d1","Content-Type":"application/json"}}),u=new class extends s{constructor(e){super(e),this._picturePopupImage=this._popup.querySelector(".popup__image"),this._popupSubtitle=this._popup.querySelector(".popup__subtitle")}open(e,t){super.open(),this._popupSubtitle.textContent=e,this._picturePopupImage.alt=e,this._picturePopupImage.src=t}}(".popup_open-img"),p=new class extends s{constructor(e){super(e),this._form=this._popup.querySelector(".form")}submitHandle(e){this._handleSubmit=e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit()}))}}(".popup_type_delete"),m=new class{constructor({profileName:e,profileInfo:t,profileAvatar:s}){this._profileName=document.querySelector(e),this._profileInfo=document.querySelector(t),this._profileAvatar=document.querySelector(s)}getUserInfo(){return{name:this._profileName.textContent,about:this._profileInfo.textContent}}setUserInfo(e){this._profileName.textContent=e.name,this._profileInfo.textContent=e.about,this._profileAvatar.src=e.avatar}setUserAvatar(e){this._profileAvatar.src=e.avatar}}({profileName:".profile__title",profileInfo:".profile__subtitle",profileAvatar:".profile__avatar"}),f=new i(".popup_type_profile",{formSubmit:e=>{f.loading(!0),_.editUserInfo(e).then((e=>{m.setUserInfo(e)})).catch((e=>{console.log(e)})).finally((()=>{f.loading(!1)}))}});f.setEventListeners();const v=e=>{const s=new t({data:e,userId:y,handleCardClick:(e,t)=>{u.open(e,t)},handleLikeClick:e=>{_.putLike(e).then((e=>{s.handleLikeCard(e)})).catch((e=>{console.log(e)}))},handleDisLikeClick:e=>{_.removeLike(e).then((e=>{s.handleLikeCard(e)})).catch((e=>{console.log(e)}))},handleDeleteCard:e=>{p.open(),p.submitHandle((()=>{_.deleteCard(e).then((()=>{p.close(),s.removeCard()})).catch((e=>{console.log(e)}))}))}},"#card");return s.generateCard()},b=new class{constructor({renderer:e},t){this._renderer=e,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}addItemAppend(e){this._container.append(e)}addItemPrepend(e){this._container.prepend(e)}}({renderer:e=>{b.addItemAppend(v(e))}},".elements"),k=new i(".popup_add_card",{formSubmit:e=>{k.loading(!0),_.addCard(e).then((e=>{b.addItemPrepend(v(e))})).catch((e=>{console.log(e)})).finally((()=>{k.loading(!1)}))}}),C=new i(".popup_type_avatar",{formSubmit:e=>{C.loading(!0),_.setUserAvatar(e).then((e=>{m.setUserAvatar(e)})).catch((e=>{console.log(e)})).finally((()=>{C.loading(!1)}))}});let y;new e(c,n).enableValidation(),new e(c,r).enableValidation(),new e(c,h).enableValidation(),Promise.all([_.getInitialCards(),_.getUserInfo()]).then((e=>{const[t,s]=e;y=s._id,b.renderItems(t),m.setUserInfo(s),m.setUserAvatar(s)})),p.setEventListeners(),C.setEventListeners(),k.setEventListeners(),u.setEventListeners(),l.addEventListener("click",(()=>{const e=m.getUserInfo();o.value=e.name,a.value=e.about,f.open()})),d.addEventListener("click",(()=>{k.open()})),document.querySelector(".profile__avatar-edit").addEventListener("click",(()=>{C.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQWUsTUFBTUEsRUFDbkJDLFlBQVlDLEVBQVFDLEdBQ2xCQyxLQUFLRixPQUFTQSxFQUNkRSxLQUFLQyxNQUFRRixFQUNiQyxLQUFLRSxjQUFnQkYsS0FBS0MsTUFBTUUsY0FBY0wsRUFBT00sY0FDckRKLEtBQUtLLHFCQUF1QlAsRUFBT1EsbUJBQ3BDLENBQ0RDLGdCQUFnQkMsR0FDZCxNQUFNQyxFQUFXRCxFQUFNQyxTQUV2QixHQURBRCxFQUFNRSxrQkFBa0IsSUFDcEJELEVBQVNFLFVBQVlGLEVBQVNHLFFBQVMsQ0FDekMsTUFBTUMsRUFBZ0JMLEVBQU1NLE1BQU1DLE9BQzVCQyxFQUFNUixFQUFNUyxhQUFhLGFBQy9CVCxFQUFNRSxrQkFDSCxvQ0FBbUNNLDBCQUE0QkgsV0FFbkUsQ0FDRixDQUNESyxlQUFlVixHQUNBVyxTQUFTaEIsY0FBZSxJQUFHSyxFQUFNWSxZQUN6Q0MsWUFBY2IsRUFBTWMsaUJBQzFCLENBQ0RDLGtCQUNrQnZCLEtBQUtDLE1BQU11QixpQkFFekJ4QixLQUFLRSxjQUFjdUIsVUFBVUMsT0FBTzFCLEtBQUtLLHNCQUN6Q0wsS0FBS0UsY0FBY3lCLGdCQUFnQixhQUVuQzNCLEtBQUs0QixxQkFFUixDQUNEQSxzQkFDRTVCLEtBQUtFLGNBQWN1QixVQUFVSSxJQUFJN0IsS0FBS0ssc0JBQ3RDTCxLQUFLRSxjQUFjNEIsYUFBYSxZQUFZLEVBQzdDLENBQ0RDLGtCQUFrQkMsR0FDaEJBLEVBQUlDLGlCQUNKakMsS0FBSzRCLHFCQUNOLENBQ0RNLGlCQUFpQkYsR0FDZixNQUFNeEIsRUFBUXdCLEVBQUlHLE9BRWxCbkMsS0FBS08sZ0JBQWdCQyxHQUVyQlIsS0FBS2tCLGVBQWVWLEdBRXBCUixLQUFLdUIsaUJBQ04sQ0FFRGEsaUJBQW1CLEtBQ2pCcEMsS0FBS0MsTUFBTW9DLGlCQUFpQixVQUFVTCxHQUFPaEMsS0FBSytCLGtCQUFrQkMsS0FDcEVoQyxLQUFLQyxNQUFNb0MsaUJBQWlCLFNBQVNMLEdBQU9oQyxLQUFLa0MsaUJBQWlCRixLQUNsRWhDLEtBQUt1QixpQkFBTCxFQ3BEVyxNQUFNZSxFQUNuQnpDLGFBQ0UsS0FDRTBDLEVBREYsT0FFRUMsRUFGRixnQkFHRUMsRUFIRixnQkFJRUMsRUFKRixtQkFLRUMsRUFMRixpQkFNRUMsR0FFRkMsR0FFQTdDLEtBQUs4QyxNQUFRUCxFQUFLUSxLQUNsQi9DLEtBQUtnRCxNQUFRVCxFQUFLVSxLQUNsQmpELEtBQUtrRCxPQUFTWCxFQUFLWSxNQUNuQm5ELEtBQUtvRCxhQUFlYixFQUFLYyxNQUFNQyxJQUMvQnRELEtBQUt1RCxRQUFVZixFQUNmeEMsS0FBS3dELFFBQVVqQixFQUFLZSxJQUNwQnRELEtBQUt5RCxpQkFBbUJoQixFQUN4QnpDLEtBQUswRCxpQkFBbUJoQixFQUN4QjFDLEtBQUsyRCxvQkFBc0JoQixFQUMzQjNDLEtBQUs0RCxrQkFBb0JoQixFQUN6QjVDLEtBQUs2RCxjQUFnQmhCLENBQ3RCLENBQ0RpQixlQUtFLE9BSndCM0MsU0FBU2hCLGNBQWNILEtBQUs2RCxlQUNmRSxRQUNsQzVELGNBQWMsWUFDZDZELFdBQVUsRUFFZCxDQUNEQyxXQUFhLEtBQ1hqRSxLQUFLa0UsTUFBTXhDLFNBQ1gxQixLQUFLa0UsTUFBUSxJQUFiLEVBRUZDLFVBQ0UsT0FBT25FLEtBQUtrRCxPQUFPa0IsTUFBS0MsR0FDZnJFLEtBQUt1RCxVQUFZYyxFQUFLZixLQUVoQyxDQUNEZ0IsY0FDTXRFLEtBQUttRSxXQUNQbkUsS0FBS3VFLFlBQVk5QyxVQUFVSSxJQUFJLHlCQUVsQyxDQUNEMkMsZUFBZWpDLEdBQ2J2QyxLQUFLa0QsT0FBU1gsRUFBS1ksTUFDbkJuRCxLQUFLeUUsY0FBY3BELFlBQWNyQixLQUFLa0QsT0FBT25DLE9BQ3pDZixLQUFLbUUsVUFDUG5FLEtBQUt1RSxZQUFZOUMsVUFBVUksSUFBSSwwQkFFL0I3QixLQUFLdUUsWUFBWTlDLFVBQVVDLE9BQU8seUJBRXJDLENBQ0RnRCxjQUNNMUUsS0FBS3VELFVBQVl2RCxLQUFLb0QsY0FDeEJwRCxLQUFLMkUsY0FBY2pELFFBRXRCLENBQ0RrRCxvQkFDRTVFLEtBQUsyRSxjQUFjdEMsaUJBQWlCLFNBQVMsS0FDM0NyQyxLQUFLNEQsa0JBQWtCNUQsS0FBS3dELFFBQTVCLElBRUZ4RCxLQUFLdUUsWUFBWWxDLGlCQUFpQixTQUFTLEtBQ3pDckMsS0FBS21FLFVBQ0RuRSxLQUFLMkQsb0JBQW9CM0QsS0FBS3dELFNBQzlCeEQsS0FBSzBELGlCQUFpQjFELEtBQUt3RCxRQUYvQixJQUlGeEQsS0FBSzZFLE9BQU94QyxpQkFBaUIsU0FBUyxLQUNwQ3JDLEtBQUt5RCxpQkFBaUJ6RCxLQUFLOEMsTUFBTzlDLEtBQUtnRCxNQUF2QyxHQUVILENBQ0Q4QixlQWFFLE9BWkE5RSxLQUFLa0UsTUFBUWxFLEtBQUs4RCxlQUNsQjlELEtBQUt1RSxZQUFjdkUsS0FBS2tFLE1BQU0vRCxjQUFjLG9CQUM1Q0gsS0FBS3lFLGNBQWdCekUsS0FBS2tFLE1BQU0vRCxjQUFjLDRCQUM5Q0gsS0FBSzJFLGNBQWdCM0UsS0FBS2tFLE1BQU0vRCxjQUFjLG9CQUM5Q0gsS0FBSzZFLE9BQVM3RSxLQUFLa0UsTUFBTS9ELGNBQWMsbUJBQ3ZDSCxLQUFLa0UsTUFBTS9ELGNBQWMsbUJBQW1Ca0IsWUFBY3JCLEtBQUs4QyxNQUMvRDlDLEtBQUt5RSxjQUFjcEQsWUFBY3JCLEtBQUtrRCxPQUFPbkMsT0FDN0NmLEtBQUs2RSxPQUFPRSxJQUFNL0UsS0FBS2dELE1BQ3ZCaEQsS0FBSzZFLE9BQU9HLElBQU1oRixLQUFLOEMsTUFDdkI5QyxLQUFLc0UsY0FDTHRFLEtBQUswRSxjQUNMMUUsS0FBSzRFLG9CQUNFNUUsS0FBS2tFLEtBQ2IsRUN0RlksTUFBTWUsRUFDbkJwRixZQUFZcUYsR0FDVmxGLEtBQUttRixPQUFTaEUsU0FBU2hCLGNBQWMrRSxHQUNyQ2xGLEtBQUtvRixNQUFRcEYsS0FBS29GLE1BQU1DLEtBQUtyRixNQUM3QkEsS0FBS3NGLGdCQUFrQnRGLEtBQUtzRixnQkFBZ0JELEtBQUtyRixLQUNsRCxDQUNEdUYsT0FDRXZGLEtBQUttRixPQUFPMUQsVUFBVUksSUFBSSxjQUMxQlYsU0FBU2tCLGlCQUFpQixVQUFXckMsS0FBS3NGLGdCQUMzQyxDQUNERixRQUNFcEYsS0FBS21GLE9BQU8xRCxVQUFVQyxPQUFPLGNBQzdCUCxTQUFTcUUsb0JBQW9CLFVBQVd4RixLQUFLc0YsZ0JBQzlDLENBQ0RBLGdCQUFrQnRELElBQ0EsV0FBWkEsRUFBSXlELEtBQ056RixLQUFLb0YsT0FDTixFQUVITSxvQkFDRTFGLEtBQUttRixPQUNGaEYsY0FBYyx3QkFDZGtDLGlCQUFpQixTQUFTLEtBQ3pCckMsS0FBS29GLE9BQUwsSUFFSnBGLEtBQUttRixPQUFPOUMsaUJBQWlCLGFBQWFMLElBQ3BDQSxFQUFJRyxTQUFXSCxFQUFJMkQsZUFHdkIzRixLQUFLb0YsT0FBTCxHQUVILEVDOUJZLE1BQU1RLFVBQXNCWCxFQUN6Q3BGLFlBQVlxRixHQUFlLFdBQUVXLElBQzNCQyxNQUFNWixHQUNObEYsS0FBSytGLFlBQWNGLEVBQ25CN0YsS0FBS0MsTUFBUUQsS0FBS21GLE9BQU9oRixjQUFjLFNBQ3ZDSCxLQUFLZ0csY0FBZ0JoRyxLQUFLbUYsT0FBT2hGLGNBQWMsaUJBQy9DSCxLQUFLaUcsV0FBYWpHLEtBQUttRixPQUFPZSxpQkFBaUIsb0JBQy9DbEcsS0FBS21HLFlBQWNuRyxLQUFLZ0csY0FBYzNFLFdBQ3ZDLENBQ0QrRSxpQkFDRSxNQUFNQyxFQUFjLENBQUMsRUFFckIsT0FEQXJHLEtBQUtpRyxXQUFXSyxTQUFROUYsR0FBVTZGLEVBQVk3RixFQUFNdUMsTUFBUXZDLEVBQU1NLFFBQzNEdUYsQ0FDUixDQUNEakIsUUFDRXBGLEtBQUtDLE1BQU1zRyxRQUNYVCxNQUFNVixPQUNQLENBQ0RNLG9CQUNFSSxNQUFNSixvQkFDTjFGLEtBQUtDLE1BQU1vQyxpQkFBaUIsVUFBVUwsSUFDcENBLEVBQUlDLGlCQUNKakMsS0FBSytGLFlBQVkvRixLQUFLb0csa0JBQ3RCcEcsS0FBS29GLE9BQUwsR0FFSCxDQUNEb0IsUUFBUUMsR0FFSnpHLEtBQUtnRyxjQUFjM0UsWUFEakJvRixFQUMrQixnQkFFQXpHLEtBQUttRyxXQUV6QyxFQ2pDSSxNQUFNTyxFQUFrQnZGLFNBQVNoQixjQUFjLFNBQ3pDd0csRUFBY3hGLFNBQVNoQixjQUFjLHdCQUNyQ3lHLEVBQVl6RixTQUFTaEIsY0FBYyw4QkFDbkMwRyxFQUFXMUYsU0FBU2hCLGNBQWMsOEJBQ2xDMkcsRUFBZ0IzRixTQUFTaEIsY0FBYyx5QkFDdkM0RyxFQUFhNUYsU0FBU2hCLGNBQWMsdUJBRXBDNkcsR0FEVzdGLFNBQVNoQixjQUFjLG9CQUNuQmdCLFNBQVNoQixjQUFjLHVCQUN0Q0wsRUFBUyxDQUNwQkMsS0FBTSxRQUNOSyxhQUFjLGdCQUNkRSxvQkFBcUIsd0JDV2pCMkcsRUFBTSxJQ3RCRyxNQUNicEgsYUFBWSxRQUFFcUgsRUFBRixRQUFXQyxJQUNyQm5ILEtBQUtvSCxTQUFXRixFQUNoQmxILEtBQUtxSCxTQUFXRixDQUNqQixDQUVERyxnQkFBZ0JDLEdBQ2QsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFSkMsUUFBUUMsT0FBUSxXQUFVSixFQUFJSyxTQUV4QyxDQUVnQixvQkFDZixNQUFNTCxRQUFZTSxNQUFPLEdBQUU3SCxLQUFLb0gsb0JBQXFCLENBQ25ERCxRQUFTbkgsS0FBS3FILFdBRWhCLE9BQU9ySCxLQUFLc0gsZ0JBQWdCQyxFQUM3QixDQUVpQixtQkFBQ2hGLEdBQ2pCLE1BQU1nRixRQUFZTSxNQUFPLEdBQUU3SCxLQUFLb0gsb0JBQXFCLENBQ25EVSxPQUFRLFFBQ1JYLFFBQVNuSCxLQUFLcUgsU0FDZFUsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQmxGLEtBQU1SLEVBQUtRLEtBQ1htRixNQUFPM0YsRUFBSzJGLFVBR2hCLE9BQU9sSSxLQUFLc0gsZ0JBQWdCQyxFQUM3QixDQUVvQix3QkFDbkIsTUFBTUEsUUFBWU0sTUFBTyxHQUFFN0gsS0FBS29ILGlCQUFrQixDQUNoREQsUUFBU25ILEtBQUtxSCxXQUVoQixPQUFPckgsS0FBS3NILGdCQUFnQkMsRUFDN0IsQ0FFa0Isb0JBQUNoRixHQUNsQixNQUFNZ0YsUUFBWU0sTUFBTyxHQUFFN0gsS0FBS29ILDJCQUE0QixDQUMxRFUsT0FBUSxRQUNSWCxRQUFTbkgsS0FBS3FILFNBQ2RVLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJFLE9BQVE1RixFQUFLNEYsV0FHakIsT0FBT25JLEtBQUtzSCxnQkFBZ0JDLEVBQzdCLENBRVksY0FBQ2hGLEdBQ1osTUFBTWdGLFFBQVlNLE1BQU8sR0FBRTdILEtBQUtvSCxpQkFBa0IsQ0FDaERVLE9BQVEsT0FDUlgsUUFBU25ILEtBQUtxSCxTQUNkVSxLQUFNQyxLQUFLQyxVQUFVLENBQ25CbEYsS0FBTVIsRUFBS1EsS0FDWEUsS0FBTVYsRUFBS1UsU0FHZixPQUFPakQsS0FBS3NILGdCQUFnQkMsRUFDN0IsQ0FFWSxjQUFDYSxHQUNaLE1BQU1iLFFBQVlNLE1BQU8sR0FBRTdILEtBQUtvSCxrQkFBa0JnQixVQUFnQixDQUNoRU4sT0FBUSxNQUNSWCxRQUFTbkgsS0FBS3FILFdBRWhCLE9BQU9ySCxLQUFLc0gsZ0JBQWdCQyxFQUM3QixDQUVlLGlCQUFDYSxHQUNmLE1BQU1iLFFBQVlNLE1BQU8sR0FBRTdILEtBQUtvSCxrQkFBa0JnQixJQUFVLENBQzFETixPQUFRLFNBQ1JYLFFBQVNuSCxLQUFLcUgsV0FFaEJySCxLQUFLc0gsZ0JBQWdCQyxFQUN0QixDQUVlLGlCQUFDYSxHQUNmLE1BQU1iLFFBQVlNLE1BQU8sR0FBRTdILEtBQUtvSCxrQkFBa0JnQixVQUFnQixDQUNoRU4sT0FBUSxTQUNSWCxRQUFTbkgsS0FBS3FILFdBRWhCLE9BQU9ySCxLQUFLc0gsZ0JBQWdCQyxFQUM3QixHRC9EaUIsQ0FDbEJMLFFBQVMsOENBQ1RDLFFBQVMsQ0FDUGtCLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBTWRDLEVBQVcsSUUvQkYsY0FBNkJyRCxFQUMxQ3BGLFlBQVlxRixHQUNWWSxNQUFNWixHQUNObEYsS0FBS3VJLG1CQUFxQnZJLEtBQUttRixPQUFPaEYsY0FBYyxpQkFDcERILEtBQUt3SSxlQUFpQnhJLEtBQUttRixPQUFPaEYsY0FBYyxtQkFDakQsQ0FDRG9GLEtBQUt4QyxFQUFNRSxHQUNUNkMsTUFBTVAsT0FDTnZGLEtBQUt3SSxlQUFlbkgsWUFBYzBCLEVBQ2xDL0MsS0FBS3VJLG1CQUFtQnZELElBQU1qQyxFQUM5Qi9DLEtBQUt1SSxtQkFBbUJ4RCxJQUFNOUIsQ0FDL0IsR0ZvQmlDLG1CQUk5QndGLEVBQWMsSUdsQ0wsY0FBMEJ4RCxFQUN2Q3BGLFlBQVlxRixHQUNWWSxNQUFNWixHQUNObEYsS0FBS0MsTUFBUUQsS0FBS21GLE9BQU9oRixjQUFjLFFBQ3hDLENBQ0R1SSxhQUFhQyxHQUNYM0ksS0FBSzRJLGNBQWdCRCxDQUN0QixDQUNEakQsb0JBQ0VJLE1BQU1KLG9CQUNOMUYsS0FBS0MsTUFBTW9DLGlCQUFpQixVQUFVTCxJQUNwQ0EsRUFBSUMsaUJBQ0pqQyxLQUFLNEksZUFBTCxHQUVILEdIb0JpQyxzQkFJOUJDLEVBQVcsSUl4Q0YsTUFDYmhKLGFBQVksWUFBRWlKLEVBQUYsWUFBZUMsRUFBZixjQUE0QkMsSUFDdENoSixLQUFLaUosYUFBZTlILFNBQVNoQixjQUFjMkksR0FDM0M5SSxLQUFLa0osYUFBZS9ILFNBQVNoQixjQUFjNEksR0FDM0MvSSxLQUFLbUosZUFBaUJoSSxTQUFTaEIsY0FBYzZJLEVBQzlDLENBQ0RJLGNBQ0MsTUFBTyxDQUNKckcsS0FBTS9DLEtBQUtpSixhQUFhNUgsWUFDeEI2RyxNQUFPbEksS0FBS2tKLGFBQWE3SCxZQUU1QixDQUNEZ0ksWUFBWVIsR0FDVjdJLEtBQUtpSixhQUFhNUgsWUFBY3dILEVBQVM5RixLQUN6Qy9DLEtBQUtrSixhQUFhN0gsWUFBY3dILEVBQVNYLE1BQ3pDbEksS0FBS21KLGVBQWVwRSxJQUFNOEQsRUFBU1YsTUFDcEMsQ0FDRG1CLGNBQWMvRyxHQUNadkMsS0FBS21KLGVBQWVwRSxJQUFNeEMsRUFBSzRGLE1BQ2hDLEdKcUIyQixDQUM1QlcsWUFBYSxrQkFDYkMsWUFBYSxxQkFDYkMsY0FBZSxxQkFHWE8sRUFBWSxJQUFJM0QsRUFBYyxzQkFBdUIsQ0FDekRDLFdBQVl0RCxJQUNWZ0gsRUFBVS9DLFNBQVEsR0FDbEJTLEVBQ0d1QyxhQUFhakgsR0FDYmtILE1BQUtDLElBQ0piLEVBQVNRLFlBQVlLLEVBQXJCLElBRURDLE9BQU1DLElBQ0xDLFFBQVFDLElBQUlGLEVBQVosSUFFREcsU0FBUSxLQUNQUixFQUFVL0MsU0FBUSxFQUFsQixHQVRKLElBYUorQyxFQUFVN0Qsb0JBRVYsTUFTTXNFLEVBQWFDLElBQ2pCLE1BQU1DLEVBQU8sSUFBSTVILEVBQ2YsQ0FDRUMsS0FBTTBILEVBQ056SCxPQUFRQSxFQUNSQyxnQkFBaUIsQ0FBQ00sRUFBTUUsS0FDdEJxRixFQUFTL0MsS0FBS3hDLEVBQU1FLEVBQXBCLEVBRUZQLGdCQUFpQjBGLElBQ2ZuQixFQUNHa0QsUUFBUS9CLEdBQ1JxQixNQUFLbEgsSUFDSjJILEVBQUsxRixlQUFlakMsRUFBcEIsSUFFRG9ILE9BQU1DLElBQ0xDLFFBQVFDLElBQUlGLEVBQVosR0FOSixFQVNGakgsbUJBQW9CeUYsSUFDbEJuQixFQUNHbUQsV0FBV2hDLEdBQ1hxQixNQUFLbEgsSUFDSjJILEVBQUsxRixlQUFlakMsRUFBcEIsSUFFRG9ILE9BQU1DLElBQ0xDLFFBQVFDLElBQUlGLEVBQVosR0FOSixFQVNGaEgsaUJBQWtCd0YsSUFDaEJLLEVBQVlsRCxPQUNaa0QsRUFBWUMsY0FBYSxLQUN2QnpCLEVBQ0dvRCxXQUFXakMsR0FDWHFCLE1BQUssS0FDSmhCLEVBQVlyRCxRQUNaOEUsRUFBS2pHLFlBQUwsSUFFRDBGLE9BQU1DLElBQ0xDLFFBQVFDLElBQUlGLEVBQVosR0FQSixHQURGLEdBYUosU0FHRixPQURvQk0sRUFBS3BGLGNBQ3pCLEVBT0l3RixFQUFXLElLOUhGLE1BQ2J6SyxhQUFZLFNBQUUwSyxHQUFZQyxHQUN4QnhLLEtBQUt5SyxVQUFZRixFQUNqQnZLLEtBQUswSyxXQUFhdkosU0FBU2hCLGNBQWNxSyxFQUMxQyxDQUNERyxZQUFZQyxHQUNWQSxFQUFNdEUsU0FBUTJELElBQ1pqSyxLQUFLeUssVUFBVVIsRUFBZixHQUVILENBQ0RZLGNBQWNDLEdBQ1o5SyxLQUFLMEssV0FBV0ssT0FBT0QsRUFDeEIsQ0FDREUsZUFBZUYsR0FDYjlLLEtBQUswSyxXQUFXTyxRQUFRSCxFQUN6QixHTGdIRCxDQUNFUCxTQUFVTixJQUNSSyxFQUFTTyxjQUFjYixFQUFXQyxHQUFsQyxHQUdKLGFBR0lpQixFQUFVLElBQUl0RixFQUFjLGtCQUFtQixDQUNuREMsV0FBWXRELElBQ1YySSxFQUFRMUUsU0FBUSxHQUNoQlMsRUFDR2lFLFFBQVEzSSxHQUNSa0gsTUFBS0MsSUFDSlksRUFBU1UsZUFBZWhCLEVBQVdOLEdBQW5DLElBRURDLE9BQU1DLElBQ0xDLFFBQVFDLElBQUlGLEVBQVosSUFFREcsU0FBUSxLQUNQbUIsRUFBUTFFLFNBQVEsRUFBaEIsR0FUSixJQWdCRXdDLEVBQWdCLElBQUlwRCxFQUFjLHFCQUFzQixDQUM1REMsV0FBWXRELElBQ1Z5RyxFQUFjeEMsU0FBUSxHQUN0QlMsRUFDR3FDLGNBQWMvRyxHQUNka0gsTUFBS0MsSUFDSmIsRUFBU1MsY0FBY0ksRUFBdkIsSUFFREMsT0FBTUMsSUFDTEMsUUFBUUMsSUFBSUYsRUFBWixJQUVERyxTQUFRLEtBQ1BmLEVBQWN4QyxTQUFRLEVBQXRCLEdBVEosSUEyQkosSUFBSWhFLEVBWGlCLElBQUk1QyxFQUFjRSxFQUFRNkcsR0FDbEN2RSxtQkFFWSxJQUFJeEMsRUFBY0UsRUFBUTRHLEdBQ2xDdEUsbUJBRU8sSUFBSXhDLEVBQWNFLEVBQVFrSCxHQUNsQzVFLG1CQU1oQnNGLFFBQVF5RCxJQUFJLENBQUNsRSxFQUFJbUUsa0JBQW1CbkUsRUFBSW1DLGdCQUFnQkssTUFBS0MsSUFDM0QsTUFBT2tCLEVBQU9TLEdBQVkzQixFQUMxQmxILEVBQVM2SSxFQUFTL0gsSUFDbEJnSCxFQUFTSyxZQUFZQyxHQUNyQi9CLEVBQVNRLFlBQVlnQyxHQUNyQnhDLEVBQVNTLGNBQWMrQixFQUF2QixJQUdGNUMsRUFBWS9DLG9CQUNac0QsRUFBY3RELG9CQUNkd0YsRUFBUXhGLG9CQUNSNEMsRUFBUzVDLG9CQUNUb0IsRUFBY3pFLGlCQUFpQixTQXRJWCxLQUNsQixNQUFNZ0osRUFBV3hDLEVBQVNPLGNBQzFCeEMsRUFBVTlGLE1BQVF1SyxFQUFTdEksS0FDM0I4RCxFQUFTL0YsTUFBUXVLLEVBQVNuRCxNQUMxQnFCLEVBQVVoRSxNQUFWLElBbUlGd0IsRUFBVzFFLGlCQUFpQixTQTdFRixLQUN4QjZJLEVBQVEzRixNQUFSLElBNkVGcEUsU0FBU2hCLGNBQWMseUJBQXlCa0MsaUJBQWlCLFNBQVMsS0FDeEUyRyxFQUFjekQsTUFBZCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL3V0aWxzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcclxuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XHJcbiAgICB0aGlzLl9zdW1iaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1bWJpdEJ1dHRvbik7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgfVxyXG4gIF9zZXRDdXN0b21FcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgdmFsaWRpdHkgPSBpbnB1dC52YWxpZGl0eTtcclxuICAgIGlucHV0LnNldEN1c3RvbVZhbGlkaXR5KFwiXCIpO1xyXG4gICAgaWYgKHZhbGlkaXR5LnRvb1Nob3J0IHx8IHZhbGlkaXR5LnRvb0xvbmcpIHtcclxuICAgICAgY29uc3QgY3VycmVudExlbmd0aCA9IGlucHV0LnZhbHVlLmxlbmd0aDtcclxuICAgICAgY29uc3QgbWluID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwibWlubGVuZ3RoXCIpO1xyXG4gICAgICBpbnB1dC5zZXRDdXN0b21WYWxpZGl0eShcclxuICAgICAgICBg0JzQuNC90LjQvNCw0LvRjNC90L7QtSDQutC+0LvQu9C40YfQtdGB0YLQstC+INGB0LjQvNCy0L7Qu9C+0LIgJHttaW59LiDQlNC70LjQvdCwINGC0LXQutGB0YLQsCDRgdC10LnRh9Cw0YEgJHtjdXJyZW50TGVuZ3RofSDRgdC40LzQstC+0LtgXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9zZXRGaWVsZEVycm9yKGlucHV0KSB7XHJcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBzcGFuLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgfVxyXG4gIF9zZXRCdXR0b25TdGF0ZSgpIHtcclxuICAgIGNvbnN0IGlzVmFsaWQgPSB0aGlzLl9mb3JtLmNoZWNrVmFsaWRpdHkoKTtcclxuICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3N1bWJpdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdW1iaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uU3RhdGUoKTtcclxuICAgIH1cclxuICB9XHJcbiAgX2Rpc2FibGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIHRoaXMuX3N1bWJpdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VtYml0QnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gIH1cclxuICBfaGFuZGxlRm9ybVN1bWJpdChldnQpIHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG4gIF9oYW5kbGVGb3JtSW5wdXQoZXZ0KSB7XHJcbiAgICBjb25zdCBpbnB1dCA9IGV2dC50YXJnZXQ7XHJcbiAgICAvL9C40YnQtdC8INC90LUg0LLQsNC70LjQtNC90YvQtSDQv9C+0LvRjyDQuCDRg9GB0YLQsNC90L7QstC40YLRjCDQvtGI0LjQsdC60LhcclxuICAgIHRoaXMuX3NldEN1c3RvbUVycm9yKGlucHV0KTtcclxuICAgIC8vINC/0L7QutCw0LfRi9Cy0LDQtdC8INC+0YjQuNCx0LrQuFxyXG4gICAgdGhpcy5fc2V0RmllbGRFcnJvcihpbnB1dCk7XHJcbiAgICAvL9C00LDQutGC0LjQstCw0YbQuNGPINC60L3QvtC/0LrQuFxyXG4gICAgdGhpcy5fc2V0QnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZXZ0ID0+IHRoaXMuX2hhbmRsZUZvcm1TdW1iaXQoZXZ0KSk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBldnQgPT4gdGhpcy5faGFuZGxlRm9ybUlucHV0KGV2dCkpO1xyXG4gICAgdGhpcy5fc2V0QnV0dG9uU3RhdGUoKTtcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAge1xyXG4gICAgICBkYXRhLFxyXG4gICAgICB1c2VySWQsXHJcbiAgICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgICAgaGFuZGxlTGlrZUNsaWNrLFxyXG4gICAgICBoYW5kbGVEaXNMaWtlQ2xpY2ssXHJcbiAgICAgIGhhbmRsZURlbGV0ZUNhcmQsXHJcbiAgICB9LFxyXG4gICAgY2FyZFNlbGVjdG9yXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2NhcmRPd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURpc0xpa2VDbGljayA9IGhhbmRsZURpc0xpa2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gIH1cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBlbGVtZW50VGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3Rvcik7XHJcbiAgICBjb25zdCBjYXJkc0VsZW1lbnQgPSBlbGVtZW50VGVtcGxhdGUuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZHNFbGVtZW50O1xyXG4gIH1cclxuICByZW1vdmVDYXJkID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmQgPSBudWxsO1xyXG4gIH07XHJcbiAgaXNMaWtlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKHVzZXIgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fdXNlcklkID09PSB1c2VyLl9pZDtcclxuICAgIH0pO1xyXG4gIH1cclxuICBfc2V0SXNMaWtlZCgpIHtcclxuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X192ZWN0b3JfYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICBoYW5kbGVMaWtlQ2FyZChkYXRhKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fdmVjdG9yX2FjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX3ZlY3Rvcl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9kZWxldGVDYXJkKCkge1xyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fY2FyZE93bmVySWQpIHtcclxuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBfc2V0RXZlbnRMaXN0bmVycygpIHtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2NhcmRJZCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5pc0xpa2VkKClcclxuICAgICAgICA/IHRoaXMuX2hhbmRsZURpc0xpa2VDbGljayh0aGlzLl9jYXJkSWQpXHJcbiAgICAgICAgOiB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcy5fY2FyZElkKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5faW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X192ZWN0b3JcIik7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdmVjdG9yLWNvdW50ZXJcIik7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9zZXRJc0xpa2VkKCk7XHJcbiAgICB0aGlzLl9kZWxldGVDYXJkKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlblwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlblwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gZXZ0ID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvbi1jbG9zZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBldnQgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldCAhPT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHsgZm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1TdWJtaXQgPSBmb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19jb250YWluZXJcIik7XHJcbiAgICB0aGlzLl90ZXh0U3VibWl0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gIH1cclxuICBnZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiAoaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSkpO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBldnQgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fZm9ybVN1Ym1pdCh0aGlzLmdldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgbG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dFN1Ym1pdDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGZvcm1Qcm9maWxlRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX3BvcHVwX2FkZC1jYXJkXCIpO1xyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19jb250YWluZXJfdHlwZV9uYW1lXCIpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2NvbnRhaW5lcl90eXBlX2luZm9cIik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25Qcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZGJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhcmthID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtQXZhdGFya2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fcG9wdXBfYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIGZvcm06IFwiLmZvcm1cIixcclxuICBzdW1iaXRCdXR0b246IFwiLmZvcm1fX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fYnV0dG9uX2ludmFsaWRcIixcclxufTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBEZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGUuanNcIjtcclxuaW1wb3J0IHtcclxuICBmb3JtUHJvZmlsZUVkaXQsXHJcbiAgZm9ybUFkZENhcmQsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGpvYklucHV0LFxyXG4gIGJ1dHRvblByb2ZpbGUsXHJcbiAgYnV0dG9uQ2FyZCxcclxuICBhdmF0YXJrYSxcclxuICBmb3JtQXZhdGFya2EsXHJcbiAgY29uZmlnLFxyXG59IGZyb20gXCIuLi9jb21wb25lbnRzL3V0aWxzLmpzXCI7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDdcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjAxNjJiZTMzLTI2ZmMtNDU4Mi05N2U4LTBkNzhmNGFkMjBkMVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLy8g0KPQstC10LvQuNGH0LXQvdC90LDRjyDQutCw0YDRgtC40L3QutCwXHJcblxyXG5jb25zdCBiaWdJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF9vcGVuLWltZ1wiKTtcclxuXHJcbi8vLy8g0YPQtNCw0LvQtdC90LjQtVxyXG5cclxuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBEZWxldGUoXCIucG9wdXBfdHlwZV9kZWxldGVcIik7XHJcblxyXG4vLy8g0L/RgNC+0YTQuNC70YxcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBwcm9maWxlTmFtZTogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICBwcm9maWxlSW5mbzogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcclxuICBwcm9maWxlQXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX3Byb2ZpbGVcIiwge1xyXG4gIGZvcm1TdWJtaXQ6IGRhdGEgPT4ge1xyXG4gICAgcG9wdXBGb3JtLmxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGlcclxuICAgICAgLmVkaXRVc2VySW5mbyhkYXRhKVxyXG4gICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlc3VsdCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwb3B1cEZvcm0ubG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pXHJcbiAgfSxcclxufSk7XHJcbnBvcHVwRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3Qgb3BlblByb2ZpbGUgPSAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XHJcbiAgam9iSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5hYm91dDtcclxuICBwb3B1cEZvcm0ub3BlbigpO1xyXG59O1xyXG5cclxuLy8vINC60LDRgNGC0L7Rh9C60LhcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSBpdGVtID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICB7XHJcbiAgICAgIGRhdGE6IGl0ZW0sXHJcbiAgICAgIHVzZXJJZDogdXNlcklkLFxyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgICAgICAgYmlnSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlTGlrZUNsaWNrOiBjYXJkSWQgPT4ge1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLnB1dExpa2UoY2FyZElkKVxyXG4gICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuaGFuZGxlTGlrZUNhcmQoZGF0YSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlRGlzTGlrZUNsaWNrOiBjYXJkSWQgPT4ge1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLnJlbW92ZUxpa2UoY2FyZElkKVxyXG4gICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuaGFuZGxlTGlrZUNhcmQoZGF0YSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlRGVsZXRlQ2FyZDogY2FyZElkID0+IHtcclxuICAgICAgICBkZWxldGVQb3B1cC5vcGVuKCk7XHJcbiAgICAgICAgZGVsZXRlUG9wdXAuc3VibWl0SGFuZGxlKCgpID0+IHtcclxuICAgICAgICAgIGFwaVxyXG4gICAgICAgICAgICAuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBkZWxldGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBcIiNjYXJkXCJcclxuICApO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVBZGRDYXJkRm9ybSA9ICgpID0+IHtcclxuICBhZGRDYXJkLm9wZW4oKTtcclxufTtcclxuXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IGl0ZW0gPT4ge1xyXG4gICAgICBjYXJkTGlzdC5hZGRJdGVtQXBwZW5kKGNyZWF0ZUNhcmQoaXRlbSkpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmVsZW1lbnRzXCJcclxuKTtcclxuXHJcbmNvbnN0IGFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9hZGRfY2FyZFwiLCB7XHJcbiAgZm9ybVN1Ym1pdDogZGF0YSA9PiB7XHJcbiAgICBhZGRDYXJkLmxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGlcclxuICAgICAgLmFkZENhcmQoZGF0YSlcclxuICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICBjYXJkTGlzdC5hZGRJdGVtUHJlcGVuZChjcmVhdGVDYXJkKHJlc3VsdCkpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgYWRkQ2FyZC5sb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSlcclxuICB9LFxyXG59KTtcclxuXHJcbi8vLyDQsNCy0LDRgtCw0YBcclxuXHJcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX2F2YXRhclwiLCB7XHJcbiAgZm9ybVN1Ym1pdDogZGF0YSA9PiB7XHJcbiAgICBwcm9maWxlQXZhdGFyLmxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGlcclxuICAgICAgLnNldFVzZXJBdmF0YXIoZGF0YSlcclxuICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHJlc3VsdCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwcm9maWxlQXZhdGFyLmxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9KVxyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy8v0LLQsNC70LjQtNCw0YbQuNGPXHJcblxyXG5jb25zdCBmb3JtQWRkVmFsaWQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1BZGRDYXJkKTtcclxuZm9ybUFkZFZhbGlkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGZvcm1Qcm9maWxlVmFsaWQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1Qcm9maWxlRWRpdCk7XHJcbmZvcm1Qcm9maWxlVmFsaWQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgZm9ybUF2YXRhclZhbGlkID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtQXZhdGFya2EpO1xyXG5mb3JtQXZhdGFyVmFsaWQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8v0LfQsNC/0YDQvtGBXHJcblxyXG5sZXQgdXNlcklkO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgY29uc3QgW2l0ZW1zLCB1c2VyRGF0YV0gPSByZXN1bHQ7XHJcbiAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xyXG4gIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGl0ZW1zKTtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbiAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YSk7XHJcbn0pO1xyXG5cclxuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucHJvZmlsZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmJpZ0ltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmJ1dHRvblByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qcm9maWxlKTtcclxuYnV0dG9uQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQWRkQ2FyZEZvcm0pO1xyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1lZGl0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcHJvZmlsZUF2YXRhci5vcGVuKCk7XHJcbn0pO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVJlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGVkaXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNldFVzZXJBdmF0YXIoZGF0YSkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGFkZENhcmQoZGF0YSkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwdXRMaWtlKGNhcmRJZCkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVtb3ZlTGlrZShjYXJkSWQpIHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcGljdHVyZVBvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwU3VidGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJ0aXRsZVwiKTtcclxuICB9XHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wb3B1cFN1YnRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX3BpY3R1cmVQb3B1cEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9waWN0dXJlUG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICB9XHJcbiAgc3VibWl0SGFuZGxlKHJlbW92KSB7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSByZW1vdjtcclxuICB9XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGV2dCA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBwcm9maWxlTmFtZSwgcHJvZmlsZUluZm8sIHByb2ZpbGVBdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSW5mbyk7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlQXZhdGFyKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fcHJvZmlsZUluZm8udGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuICBzZXRVc2VySW5mbyh1c2VySW5mbykge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSB1c2VySW5mby5uYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZUluZm8udGV4dENvbnRlbnQgPSB1c2VySW5mby5hYm91dDtcclxuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjID0gdXNlckluZm8uYXZhdGFyO1xyXG4gIH1cclxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFkZEl0ZW1BcHBlbmQoZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcbiAgYWRkSXRlbVByZXBlbmQoZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJmb3JtIiwidGhpcyIsIl9mb3JtIiwiX3N1bWJpdEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJzdW1iaXRCdXR0b24iLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfc2V0Q3VzdG9tRXJyb3IiLCJpbnB1dCIsInZhbGlkaXR5Iiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJ0b29TaG9ydCIsInRvb0xvbmciLCJjdXJyZW50TGVuZ3RoIiwidmFsdWUiLCJsZW5ndGgiLCJtaW4iLCJnZXRBdHRyaWJ1dGUiLCJfc2V0RmllbGRFcnJvciIsImRvY3VtZW50IiwiaWQiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3NldEJ1dHRvblN0YXRlIiwiY2hlY2tWYWxpZGl0eSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl9kaXNhYmxlQnV0dG9uU3RhdGUiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJfaGFuZGxlRm9ybVN1bWJpdCIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX2hhbmRsZUZvcm1JbnB1dCIsInRhcmdldCIsImVuYWJsZVZhbGlkYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiQ2FyZCIsImRhdGEiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVEaXNMaWtlQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiY2FyZFNlbGVjdG9yIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZE93bmVySWQiLCJvd25lciIsIl9pZCIsIl91c2VySWQiLCJfY2FyZElkIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfaGFuZGxlRGlzTGlrZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfY2FyZFNlbGVjdG9yIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsInJlbW92ZUNhcmQiLCJfY2FyZCIsImlzTGlrZWQiLCJzb21lIiwidXNlciIsIl9zZXRJc0xpa2VkIiwiX2xpa2VCdXR0b24iLCJoYW5kbGVMaWtlQ2FyZCIsIl9saWtlc0NvdW50ZXIiLCJfZGVsZXRlQ2FyZCIsIl9kZWxldGVCdXR0b24iLCJfc2V0RXZlbnRMaXN0bmVycyIsIl9pbWFnZSIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsImNsb3NlIiwiYmluZCIsIl9oYW5kbGVFc2NDbG9zZSIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjdXJyZW50VGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImZvcm1TdWJtaXQiLCJzdXBlciIsIl9mb3JtU3VibWl0IiwiX3N1Ym1pdEJ1dHRvbiIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RleHRTdWJtaXQiLCJnZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsInJlc2V0IiwibG9hZGluZyIsImlzTG9hZGluZyIsImZvcm1Qcm9maWxlRWRpdCIsImZvcm1BZGRDYXJkIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJidXR0b25Qcm9maWxlIiwiYnV0dG9uQ2FyZCIsImZvcm1BdmF0YXJrYSIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9oYW5kbGVSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhdmF0YXIiLCJjYXJkSWQiLCJhdXRob3JpemF0aW9uIiwiYmlnSW1hZ2UiLCJfcGljdHVyZVBvcHVwSW1hZ2UiLCJfcG9wdXBTdWJ0aXRsZSIsImRlbGV0ZVBvcHVwIiwic3VibWl0SGFuZGxlIiwicmVtb3YiLCJfaGFuZGxlU3VibWl0IiwidXNlckluZm8iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVJbmZvIiwicHJvZmlsZUF2YXRhciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlSW5mbyIsIl9wcm9maWxlQXZhdGFyIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJwb3B1cEZvcm0iLCJlZGl0VXNlckluZm8iLCJ0aGVuIiwicmVzdWx0IiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsImNyZWF0ZUNhcmQiLCJpdGVtIiwiY2FyZCIsInB1dExpa2UiLCJyZW1vdmVMaWtlIiwiZGVsZXRlQ2FyZCIsImNhcmRMaXN0IiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW1zIiwiYWRkSXRlbUFwcGVuZCIsImVsZW1lbnQiLCJhcHBlbmQiLCJhZGRJdGVtUHJlcGVuZCIsInByZXBlbmQiLCJhZGRDYXJkIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwidXNlckRhdGEiXSwic291cmNlUm9vdCI6IiJ9